<?xml version="1.0" encoding="utf-8"?>
<s:BorderContainer xmlns:fx="http://ns.adobe.com/mxml/2009" 
				   xmlns:s="library://ns.adobe.com/flex/spark"
				   xmlns:views="com.vit.yahoobrowser.views.*"
				   xmlns:mx="library://ns.adobe.com/flex/mx"
				   borderColor="#000000" height="100%" width="100%" currentState="hidden">
	<s:states>
		<s:State name="loading"/>
		<s:State name="data"/>
		<s:State name="hidden"/>
	</s:states>
	
	<fx:Script>
		<![CDATA[
			import mx.collections.ArrayList;
			import mx.collections.IList;
			
			[Bindable]
			private var companiesDataProvider:IList = new ArrayList();
			
			public function setDataProvider(provider:ArrayList, withError:Boolean = false):void
			{
				companiesDataProvider = provider;
				setCurrentState("data");
				busyIndicator.stop();
				
				noDataLabel.visible = withError;
			}
			
			public function setLoading():void
			{
				setCurrentState("loading");
				busyIndicator.play();
				noDataLabel.visible = false;
			}
			
		]]>
	</fx:Script>
	
	<views:BusyIndicator id="busyIndicator" horizontalCenter="0" verticalCenter="0" includeIn="loading"/>
	<s:Label id="noDataLabel" text="No data returned by provider." horizontalCenter="0" verticalCenter="0"
			 visible="false" mouseEnabled="false" mouseChildren="false"/>
	
	<s:Scroller horizontalScrollPolicy="off" top="4" bottom="4" left="4" right="4">
		<s:DataGroup id="companiesList" height="100%" left="0" right="4"
					 dataProvider="{companiesDataProvider}"
					 itemRenderer="com.vit.yahoobrowser.views.renderers.CompanyItemRenderer">
			<s:layout>
				<s:VerticalLayout gap="1" useVirtualLayout="true"/>
			</s:layout>
		</s:DataGroup>
	</s:Scroller>
</s:BorderContainer>
